# –ü—Ä–æ–µ–∫—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π —ç–∫—Å–ø–æ–Ω–∞—Ç–æ–≤ –∏ –≤—ã—Å—Ç–∞–≤–æ–∫

## **–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–æ–≤ –æ–ø–∏—Å–∞–Ω–∏–π —ç–∫—Å–ø–æ–Ω–∞—Ç–æ–≤ –∏ –≤—ã—Å—Ç–∞–≤–æ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ BERTopic –∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ–∏—Å–∫–∞ FAISS. –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:

1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–µ–º—É –¥–ª—è —Ç–µ–∫—Å—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –Ω–æ–≤–æ—Å—Ç—å).
2. –ù–∞–π—Ç–∏ –ø–æ—Ö–æ–∂–∏–µ —ç–∫—Å–ø–æ–Ω–∞—Ç—ã –∏ –≤—ã—Å—Ç–∞–≤–∫–∏.
3. –ü–æ–ª—É—á–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ, –≥–æ—Ç–æ–≤–æ–º –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç).

---

## **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**

### **1. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

- **BERTopic**:
  - –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—Å—Ç–æ–≤.
  - –í—ã–¥–µ–ª—è–µ—Ç —Ç–µ–º—ã –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∏—Ö —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞–º.

- **FAISS**:
  - –ë—ã—Å—Ç—Ä–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∏—Å–∫–∞ –±–ª–∏–∂–∞–π—à–∏—Ö —Å–æ—Å–µ–¥–µ–π –ø–æ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º.

- **SentenceTransformer**:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ.

### **2. –î–∞–Ω–Ω—ã–µ**

- –ö–æ–ª–æ–Ω–∫–∏:
  - `description`: —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —ç–∫—Å–ø–æ–Ω–∞—Ç–∞.
  - `exhibition`: –Ω–∞–∑–≤–∞–Ω–∏–µ –≤—ã—Å—Ç–∞–≤–∫–∏ (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º).
  - `collection`: –Ω–∞–∑–≤–∞–Ω–∏–µ –º—É–∑–µ—è (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º).
  - `title`: –Ω–∞–∑–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ–Ω–∞—Ç–∞.
  - `url`: —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—å—é —Å —ç–∫—Å–ø–æ–Ω–∞—Ç–æ–º –≤ –∫–∞—Ç–∞–ª–æ–≥–µ.

- –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏:
  - –ò—Å–∫–ª—é—á–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏ –∏ –∫–æ—Ä–æ—Ç–∫–∏–µ —Ç–µ–∫—Å—Ç—ã.
  - –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤ –æ—Ç –ª–∏—à–Ω–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∏ —á–∏—Å–µ–ª.

### **3. –ù–æ—É—Ç–±—É–∫–∏ `notebooks`**
- `01_eda_artefact_data.ipynb`: –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- `02_fine_tune_bert.ipynb`: –¥–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ BERT
- `03_bertopic_colab_setup.ipynb`: –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ BERTopic
- `04_demo_search.ipynb`: –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –∏ –≤—ã–¥–∞—á–∏ –∫–ª–∏–µ–Ω—Ç—É

### **4. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –±–æ—Ç–∞ `scrapy_project`**
- `scrapy_project/museum_scraper/spiders/culture_spider.py`: —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–∞–ø–µ—Ä–∞
- `scrapy_project/museum_scraper/items.py`: –∫–æ–º–ø–∞–Ω–µ–Ω—Ç –≤—ã–≥—Ä—É–∑–∫–∏

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∞–ø–µ—Ä–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º chromedriver. –û–Ω –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è 
`scrapy_project/museum_scraper/chromedriver.exe`

### **5. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–∫—Ä–∏–ø—Ç–æ–≤ `scripts`**
- `scripts/preprocess_data.py`: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `scripts/fine_tuning_bert.py`: –¥–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ BERT
- `scripts/train_topic_model.py`: –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ BERTopic
- `scripts/build_faiss_index.py`: —Å–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ FAISS

### **6. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –±–æ—Ç–∞ `telegram_bot`**

- `main.py`: Telegram-–±–æ—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.
- `faiss_index.pkl`: –ò–Ω–¥–µ–∫—Å FAISS –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤.
- `bertopic_model`: –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å BERTopic.
- `fine_tuned_model`: –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å BERTopic.
- `README.md`: –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

---

## **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**

### **–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python –≤–µ—Ä—Å–∏–∏ 3.8 –∏–ª–∏ –≤—ã—à–µ.
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   ```bash
   python -m venv venv
   ```
3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   ```bash
   venv\Scripts\activate
   ```
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

---

### **–®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π**

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –º–æ–¥–µ–ª–µ–π –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è—Ö:
   - `./models/bert_model/fine_tuned_model`
   - `./models/bertopic_model/bertopic_model.pkl`
   - `./models/faiss_index/faiss_index.pkl`

2. –ï—Å–ª–∏ –º–æ–¥–µ–ª–µ–π –Ω–µ—Ç:
   - –°–∫–∞—á–∞–π—Ç–µ –≥–æ—Ç–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ –∏–∑ –æ–±–ª–∞—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (Google Drive –∏–ª–∏ –¥—Ä—É–≥–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫).
   - –ü–æ–º–µ—Å—Ç–∏—Ç–µ –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞–ø–∫–∏.

---

### **–®–∞–≥ 3: –ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞**

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ –≤ —Ñ–∞–π–ª–µ `main.py` –≤ `if __name__ == "__main__":`:
   ```python
   TOKEN = "your_bot_token"
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   python main.py
   ```

3. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å. –ü—Ä–∏–º–µ—Ä:
   ```
   –ò–∫–æ–Ω–∞ –•—Ä–∏—Å—Ç–∞ –∏–∑ —Ö—Ä–∞–º–∞ –°–≤—è—Ç–æ–π –°–æ—Ñ–∏–∏, –¥–∞—Ç–∏—Ä—É–µ—Ç—Å—è XVIII –≤–µ–∫–æ–º.
   ```

---

### **–®–∞–≥ 4: –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –Ω–æ—É—Ç–±—É–∫**

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `04_demo_search.ipynb`.
2. –í –Ω–æ—É—Ç–±—É–∫–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è:
   - –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π.
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–µ–π—Å–æ–≤ (–ø–æ–∏—Å–∫ —Ç–µ–º—ã, –ø–æ—Ö–æ–∂–∏—Ö —Ç–µ–∫—Å—Ç–æ–≤).
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π.

---

## **–†–µ–∑—É–ª—å—Ç–∞—Ç**

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

1. **–¢–æ–ø-3 —ç–∫—Å–ø–æ–Ω–∞—Ç–∞**:
   ```
   üîπ [–ù–∞–∑–≤–∞–Ω–∏–µ —ç–∫—Å–ø–æ–Ω–∞—Ç–∞](URL)
      –ê–≤—Ç–æ—Ä: [–ê–≤—Ç–æ—Ä]
      –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ: [–û–ø–∏—Å–∞–Ω–∏–µ]
   ```

2. **–¢–æ–ø-3 –≤—ã—Å—Ç–∞–≤–∫–∏**:
   ```
   üîπ [–í—ã—Å—Ç–∞–≤–∫–∞]
      –ú—É–∑–µ–π: [–ú—É–∑–µ–π]
   ```

---

## **–ó–∞–º–µ—Ç–∫–∏ –ø–æ –¥–æ—Ä–∞–±–æ—Ç–∫–∞–º**

1. **–£–ª—É—á—à–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤**:
   - –î–æ—Ä–∞–±–æ—Ç–∞—Ç—å –º–æ–¥–µ–ª—å SentenceTransformer –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö.
   - –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã Google Colab, –∏–∑ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫—É—é –º–æ–¥–µ–ª—å, –µ–µ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –º–æ–¥–µ–ª—å –±–æ–ª—å—à–∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏–∏**:
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã HDBSCAN –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–±—Ä–æ—Å–æ–≤.

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**:
   - –ü—Ä–æ–≤–µ—Å—Ç–∏ –æ—Ü–µ–Ω–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
   - –£—á–µ—Å—Ç—å –ø–æ–∂–µ–ª–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

4. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**:
   - –í–∫–ª—é—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö.
   - –ø—Ä–∏–¥—É–º–∞—Ç—å –Ω–æ–≤—ã–µ –≤–∏–¥—ã —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

---

## **–ö–æ–Ω—Ç–∞–∫—Ç—ã**
–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –ø–∏—à–∏—Ç–µ –Ω–∞: [vladimirov.kd@phystech.edu](mailto:vladimirov.kd@phystech.edu).





















# Telegram Bot with FAISS and BERTopic

## –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç Telegram-–±–æ—Ç–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ —ç–∫—Å–ø–æ–Ω–∞—Ç–æ–≤ –∏ –≤—ã—Å—Ç–∞–≤–æ–∫. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- **BERTopic** –¥–ª—è —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è.
- **FAISS** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–µ–º–∞–º.
- **Telegram API** –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

–ë–æ—Ç —Å–ø–æ—Å–æ–±–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ—Ö–æ–∂–∏–µ —ç–∫—Å–ø–æ–Ω–∞—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–ø–∏—Å–∞–Ω–∏—è, –∞ —Ç–∞–∫–∂–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã—Å—Ç–∞–≤–∫–∞—Ö –∏ –º—É–∑–µ—è—Ö.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+ (—Ä–∞–±–æ—Ç–∞–ª –Ω–∞ –≤–µ—Ä—Å–∏–∏ Python 3.12.5)
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/your-repo-name.git
   cd your-repo-name
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   - Telegram Bot Token (—É–∫–∞–∂–∏—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω –≤ —Ñ–∞–π–ª–µ `config.py`).

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
cd .\scrapy_project\
scrapy crawl culture_spider 
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ Telegram-–±–æ—Ç–∞:
```bash
python telegram_bot/main.py
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ Telegram –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `telegram_bot/` ‚Äî –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –±–æ—Ç–∞.
- `scripts/` ‚Äî –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—è–º–∏.
- `models/` ‚Äî —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ FAISS –∏–Ω–¥–µ–∫—Å—ã.
- `data/` ‚Äî –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞ (–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∏ —Å—ã—Ä—ã–µ).
- `scrapy_project/` ‚Äî Scrapy-–ø—Ä–æ–µ–∫—Ç –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö.

### **Project Structure**
```
project-root/
‚îÇ
‚îú‚îÄ‚îÄ data/                        # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ raw/                     # –ò—Å—Ö–æ–¥–Ω—ã–µ (—Å—ã—Ä—ã–µ) –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dataset.csv
‚îÇ   ‚îú‚îÄ‚îÄ processed/               # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cleaned_dataset.csv
‚îÇ   ‚îî‚îÄ‚îÄ scraped/                 # –î–∞–Ω–Ω—ã–µ, —Å–æ–±—Ä–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é Scrapy
‚îÇ       ‚îî‚îÄ‚îÄ scraped_data.json
‚îÇ
‚îú‚îÄ‚îÄ notebooks/                   # Jupyter-–Ω–æ—É—Ç–±—É–∫–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ 01_data_preprocessing.ipynb
‚îÇ   ‚îú‚îÄ‚îÄ 02_train_topic_model.ipynb
‚îÇ   ‚îú‚îÄ‚îÄ 03_evaluation.ipynb
‚îÇ   ‚îî‚îÄ‚îÄ 04_demo_results.ipynb
‚îÇ
‚îú‚îÄ‚îÄ models/                      # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ bertopic_model/          # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å BERTopic
‚îÇ   ‚îî‚îÄ‚îÄ vectorizer/              # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ scrapy_project/              # Scrapy –ø—Ä–æ–µ–∫—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ scrapy.cfg               # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Scrapy
‚îÇ   ‚îú‚îÄ‚îÄ spiders/                 # –ü–∞—É–∫–∏ –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dataset_spider.py
‚îÇ   ‚îú‚îÄ‚îÄ pipelines.py             # –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ —Å–±–æ—Ä–µ
‚îÇ   ‚îî‚îÄ‚îÄ items.py                 # –û–ø–∏—Å–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ telegram_bot/                # –ö–æ–¥ Telegram-–±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ main.py                  # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ handlers.py              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ search.py                # –õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ —ç–∫—Å–ø–æ–Ω–∞—Ç–æ–≤ —Å BERTopic –∏ FAISS
‚îÇ   ‚îú‚îÄ‚îÄ utils.py                 # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt         # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è Telegram-–±–æ—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ scripts/                     # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ preprocess_data.py       # –°–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ train_model.py           # –°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–æ–±—É—á–µ–Ω–∏—è BERTopic
‚îÇ   ‚îî‚îÄ‚îÄ ...                      # –ü—Ä–æ—á–∏–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ
‚îú‚îÄ‚îÄ tests/                       # –¢–µ—Å—Ç—ã –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ test_bot.py              # –¢–µ—Å—Ç—ã –¥–ª—è Telegram-–±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ test_scrapy.py           # –¢–µ—Å—Ç—ã –¥–ª—è Scrapy
‚îÇ   ‚îî‚îÄ‚îÄ test_model.py            # –¢–µ—Å—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π
‚îÇ
‚îú‚îÄ‚îÄ .gitignore                   # –ò—Å–∫–ª—é—á–∞–µ–º –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
‚îú‚îÄ‚îÄ README.md                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îî‚îÄ‚îÄ requirements.txt             # –û–±—â–∏–π —Ñ–∞–π–ª –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```


## –°–∫—Ä–∏–ø—Ç—ã

- `scripts/preprocess_data.py` ‚Äî –æ—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞.
- `scripts/build_faiss_index.py` ‚Äî –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ FAISS –∏–Ω–¥–µ–∫—Å–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞.
- `scripts/retrain_topic_model.py` ‚Äî –¥–æ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ BERTopic –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
- `scripts/test_faiss_index.py` ‚Äî —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ FAISS –∏–Ω–¥–µ–∫—Å–∞.
- `scripts/evaluate_model.py` ‚Äî –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏.
- `scripts/deploy_bot.py` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –¥–µ–ø–ª–æ—è Telegram-–±–æ—Ç–∞.

## –î–µ–ø–ª–æ–π

### –õ–æ–∫–∞–ª—å–Ω–æ —Å ngrok

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
   ```bash
   ngrok http 8000
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   python telegram_bot/main.py
   ```

3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤—ã–¥–∞–Ω–Ω—ã–π URL ngrok –∫ Telegram Bot API.

### –ù–∞ Heroku

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Heroku CLI.
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:
   ```bash
   heroku create
   git add .
   git commit -m "Initial deploy"
   git push heroku master
   ```

3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Heroku.

## –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ Scrapy

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é Scrapy-–ø—Ä–æ–µ–∫—Ç–∞:
   ```bash
   cd scrapy_project
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–∞—É–∫–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö:
   ```bash
   scrapy crawl spider_name -o ../data/raw/scraped_data.json
   ```
   –ó–∞–º–µ–Ω–∏—Ç–µ `spider_name` –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ –ø–∞—É–∫–∞.

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∞–π–ª `scraped_data.json` –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `data/raw/` –¥–ª—è —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

## –ö–æ–Ω—Ç–∞–∫—Ç—ã
- Email: your-email@example.com
- Issues: [GitHub Issues](https://github.com/your-repo-name/issues)

## –õ–∏—Ü–µ–Ω–∑–∏—è
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License.
